(this["webpackJsonpdungeon-solitaire"]=this["webpackJsonpdungeon-solitaire"]||[]).push([[0],{34:function(e,i,t){},53:function(e,i,t){},64:function(e,i,t){"use strict";t.r(i);var s,c,a,l,n=t(0),o=t(11),u=t.n(o),r=(t(53),t(19)),d=t(4),b=t(26),h=t(7),v=t(25),j=t.n(v),y=t(35),p=t(38),f=t(88),k=t(86),O=t(87),x=t(66),m=(t(34),t(2)),g=function(e){var i=e.onClose,t=e.onOpen,s=e.storeFunction,c=e.gold,a=e.difficulty,l=Object(n.useState)(),o=Object(h.a)(l,2),u=o[0],r=o[1],d=function(e){"easy"===a?1===e?c>=5?(r("success"),s("attack",1,5)):r("notEnough"):2===e?c>=10?(r("success"),s("attack",3,10)):r("notEnough"):3===e&&(c>=5?(r("success"),s("health",10,5)):r("notEnough")):1===e?c>=10?(r("success"),s("attack",1,10)):r("notEnough"):2===e?c>=20?(r("success"),s("attack",3,20)):r("notEnough"):3===e&&(c>=5?(r("success"),s("health",5,5)):r("notEnough"))};return Object(m.jsx)(f.a,{onClose:function(){r(null),i()},open:t,children:Object(m.jsxs)("div",{style:{color:"white",backgroundColor:"#121E24",border:"2px solid white"},children:[Object(m.jsx)(k.a,{children:"store"}),Object(m.jsxs)(O.a,{children:[Object(m.jsxs)(x.a,{gutterBottom:!0,children:["buy more attack power",Object(m.jsxs)("button",{onClick:function(){return d(1)},children:["+1 (","easy"===a?"5":"10"," gold)"]}),Object(m.jsxs)("button",{onClick:function(){return d(2)},children:["+3 (","easy"===a?"10":"20"," gold)"]})]}),Object(m.jsxs)(x.a,{gutterBottom:!0,children:["buy more health","easy"===a?Object(m.jsx)("button",{onClick:function(){return d(3)},children:"+10 (5 gold)"}):Object(m.jsx)("button",{onClick:function(){return d(3)},children:"+5 (5 gold)"})]}),Object(m.jsx)(x.a,{gutterBottom:!0,children:"success"===u?Object(m.jsx)("small",{style:{color:"lightgreen"},children:"success!"}):"notEnough"===u?Object(m.jsx)("small",{style:{color:"red"},children:"not enough gold"}):Object(m.jsx)("small",{style:{visibility:"hidden"},children:"-"})})]})]})})},w=function(e){var i=e.onOpen,t=e.onClose;return Object(m.jsx)(f.a,{onClose:function(){t()},open:i,children:Object(m.jsxs)("div",{style:{color:"white",backgroundColor:"#121E24",border:"2px solid white"},children:[Object(m.jsx)(k.a,{children:"how to play"}),Object(m.jsxs)(O.a,{children:[Object(m.jsx)(x.a,{gutterBottom:!0,children:"clear the dungeon of all its monsters and treasures!"}),Object(m.jsx)(x.a,{gutterBottom:!0,children:'begin by receiving an initial health value, randomly selected from 1-20, and an inital attack power value, randomly selected from 1-8. the game is played out of a 52 standard card deck, shuffled up and laid face-down in a 5*10 grid. the last 2 cards are presented to you face-up at the beginning of the game as a "soft" entrance into the dungeon - you select the one you want and the other is discarded.'}),Object(m.jsx)(x.a,{gutterBottom:!0,children:"you then flip over each card and interact with it to clear it. you can only select those that are adjacent to an empty space except for the first card. hearts give you more health and diamonds give you more gold. you roll to determine how much health or gold you get depending on the card's value. for example, if you encountered the 5 of hearts, you will receive an increase in health - randomly selected from 1 to 5."}),Object(m.jsx)(x.a,{gutterBottom:!0,children:"spades and clubs are the enemies of the dungeon. the health of an enemy is equivalent to their card's value. the damage you do to an enemy will be a random value between 1 and the value of your attack power. the damage an enemy does to you will be a random value between 1 and their card's value. a battle between an enemy will end when their health reaches 0 or when your health reaches 0. when you defeat a spade, roll for health, according to the card's value. when defeating a club, roll for gold."}),Object(m.jsx)(x.a,{gutterBottom:!0,children:"use the gold you earn at the shop to upgrade your attack power or get more health. the difficulty of the game determines the prices at the shop."}),Object(m.jsxs)(x.a,{gutterBottom:!0,children:["any questions or concerns, contact me at shaefferjd at gmail dot com. the code for this project lives on"," ",Object(m.jsx)("a",{href:"https://github.com/jdshaeffer/dungeon-solitaire",children:"github"}),"."]})]})]})})},C=0,S=function(e){return Math.ceil(Math.random()*e)},E=function(){var e=Object(y.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=!0,e.next=3,new Promise((function(e){return setTimeout(e,1500)}));case 3:c=!1;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){var i=e.difficulty,t=Object(n.useState)(0),o=Object(h.a)(t,2),u=o[0],r=o[1],d=Object(n.useState)(0),v=Object(h.a)(d,2),f=v[0],k=v[1],O=Object(n.useState)(0),x=Object(h.a)(O,2),N=x[0],B=x[1],F=Object(n.useState)(0),q=Object(h.a)(F,2),M=q[0],A=q[1],J=Object(n.useState)(null),I=Object(h.a)(J,2),P=I[0],T=I[1],z=Object(n.useState)("roll for initial health"),D=Object(h.a)(z,2),G=D[0],H=D[1],K=Object(n.useState)(0),L=Object(h.a)(K,2),Q=L[0],R=L[1],U=Object(n.useState)(!1),V=Object(h.a)(U,2),W=V[0],X=V[1],Y=Object(n.useState)(!1),Z=Object(h.a)(Y,2),$=Z[0],_=Z[1],ee=Object(n.useState)(function(e){for(var i,t=e.length;0!==t;){i=Math.floor(Math.random()*t),t--;var c=[e[i],e[t]];e[t]=c[0],e[i]=c[1]}return s=[e.pop(),e.pop()].map((function(e){return Object(p.a)(Object(p.a)({},e),{},{clicked:!0,display:"block",selected:!1})})),e}([{pow:2,value:"2",suit:"spades",clicked:!1,visibility:"visible"},{pow:3,value:"3",suit:"spades",clicked:!1,visibility:"visible"},{pow:4,value:"4",suit:"spades",clicked:!1,visibility:"visible"},{pow:5,value:"5",suit:"spades",clicked:!1,visibility:"visible"},{pow:6,value:"6",suit:"spades",clicked:!1,visibility:"visible"},{pow:7,value:"7",suit:"spades",clicked:!1,visibility:"visible"},{pow:8,value:"8",suit:"spades",clicked:!1,visibility:"visible"},{pow:9,value:"9",suit:"spades",clicked:!1,visibility:"visible"},{pow:10,value:"10",suit:"spades",clicked:!1,visibility:"visible"},{pow:11,value:"jack",suit:"spades",clicked:!1,visibility:"visible"},{pow:12,value:"queen",suit:"spades",clicked:!1,visibility:"visible"},{pow:13,value:"king",suit:"spades",clicked:!1,visibility:"visible"},{pow:14,value:"ace",suit:"spades",clicked:!1,visibility:"visible"},{pow:2,value:"2",suit:"clubs",clicked:!1,visibility:"visible"},{pow:3,value:"3",suit:"clubs",clicked:!1,visibility:"visible"},{pow:4,value:"4",suit:"clubs",clicked:!1,visibility:"visible"},{pow:5,value:"5",suit:"clubs",clicked:!1,visibility:"visible"},{pow:6,value:"6",suit:"clubs",clicked:!1,visibility:"visible"},{pow:7,value:"7",suit:"clubs",clicked:!1,visibility:"visible"},{pow:8,value:"8",suit:"clubs",clicked:!1,visibility:"visible"},{pow:9,value:"9",suit:"clubs",clicked:!1,visibility:"visible"},{pow:10,value:"10",suit:"clubs",clicked:!1,visibility:"visible"},{pow:11,value:"jack",suit:"clubs",clicked:!1,visibility:"visible"},{pow:12,value:"queen",suit:"clubs",clicked:!1,visibility:"visible"},{pow:13,value:"king",suit:"clubs",clicked:!1,visibility:"visible"},{pow:14,value:"ace",suit:"clubs",clicked:!1,visibility:"visible"},{pow:2,value:"2",suit:"hearts",clicked:!1,visibility:"visible"},{pow:3,value:"3",suit:"hearts",clicked:!1,visibility:"visible"},{pow:4,value:"4",suit:"hearts",clicked:!1,visibility:"visible"},{pow:5,value:"5",suit:"hearts",clicked:!1,visibility:"visible"},{pow:6,value:"6",suit:"hearts",clicked:!1,visibility:"visible"},{pow:7,value:"7",suit:"hearts",clicked:!1,visibility:"visible"},{pow:8,value:"8",suit:"hearts",clicked:!1,visibility:"visible"},{pow:9,value:"9",suit:"hearts",clicked:!1,visibility:"visible"},{pow:10,value:"10",suit:"hearts",clicked:!1,visibility:"visible"},{pow:11,value:"jack",suit:"hearts",clicked:!1,visibility:"visible"},{pow:12,value:"queen",suit:"hearts",clicked:!1,visibility:"visible"},{pow:13,value:"king",suit:"hearts",clicked:!1,visibility:"visible"},{pow:14,value:"ace",suit:"hearts",clicked:!1,visibility:"visible"},{pow:2,value:"2",suit:"diamonds",clicked:!1,visibility:"visible"},{pow:3,value:"3",suit:"diamonds",clicked:!1,visibility:"visible"},{pow:4,value:"4",suit:"diamonds",clicked:!1,visibility:"visible"},{pow:5,value:"5",suit:"diamonds",clicked:!1,visibility:"visible"},{pow:6,value:"6",suit:"diamonds",clicked:!1,visibility:"visible"},{pow:7,value:"7",suit:"diamonds",clicked:!1,visibility:"visible"},{pow:8,value:"8",suit:"diamonds",clicked:!1,visibility:"visible"},{pow:9,value:"9",suit:"diamonds",clicked:!1,visibility:"visible"},{pow:10,value:"10",suit:"diamonds",clicked:!1,visibility:"visible"},{pow:11,value:"jack",suit:"diamonds",clicked:!1,visibility:"visible"},{pow:12,value:"queen",suit:"diamonds",clicked:!1,visibility:"visible"},{pow:13,value:"king",suit:"diamonds",clicked:!1,visibility:"visible"},{pow:14,value:"ace",suit:"diamonds",clicked:!1,visibility:"visible"}])),ie=Object(h.a)(ee,2),te=ie[0],se=ie[1],ce=Object(n.useState)(s),ae=Object(h.a)(ce,2),le=ae[0],ne=ae[1],oe=Object(n.useState)(!1),ue=Object(h.a)(oe,2),re=ue[0],de=ue[1],be=function(e){var i=S(P.pow);"gold"===e?B(N+i):r(u+i),H("your ".concat(e," increased by ").concat(i)),a=!1,l=!1;var t=le.length?le[le.indexOf(P)]:te[te.indexOf(P)];t.visibility="hidden",te[te.indexOf(P)]=t,T(null),se(Object(b.a)(te))},he=function(){var e=Object(y.a)(j.a.mark((function e(){var i,t,s,n,o,d,h;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==M){e.next=5;break}r(S(20)),H("roll for initial attack power"),e.next=60;break;case 5:if(1!==M){e.next=10;break}k(S(8)),H("select one of the above cards to begin"),e.next=60;break;case 10:if(!P||c){e.next=60;break}if(!a){e.next=15;break}be("gold"),e.next=49;break;case 15:if(!l){e.next=19;break}be("health"),e.next=49;break;case 19:if(i=P.pow,"diamonds"!==P.suit){e.next=26;break}t=S(i),B(N+t),H("your gold increased by ".concat(t)),e.next=48;break;case 26:if("hearts"!==P.suit){e.next=32;break}s=S(i),r(u+s),H("your health increased by ".concat(s)),e.next=48;break;case 32:if(n=S(f),R(Q-n<0?0:Q-n),!(Q-n<1)&&Q){e.next=39;break}H("you dealt ".concat(n," damage.\n\t\t\t\t\t\t\t\tyou defeated the ").concat(P.value," of ").concat(P.suit,".\n\t\t\t\t\t\t\t\troll for ").concat("clubs"===P.suit?"gold":"health",".")),"clubs"===P.suit?a=!0:l=!0,e.next=48;break;case 39:return H("you dealt ".concat(n," damage...")),e.next=42,E();case 42:return H("the enemy is now attacking..."),e.next=45,E();case 45:o=S(i),r(u-o<0?0:u-o),u-o<1?(H("the enemy dealt ".concat(o," damage. you died. refresh to try again.")),ne([]),se([]),c=!0):H("the enemy dealt ".concat(o," damage. attack again."));case 48:Q<1&&T(null);case 49:if(!(P.display&&Q<1&&0!==u)){e.next=59;break}return e.next=52,E();case 52:return H("entering the dungeon..."),e.next=55,E();case 55:ne([]),H("select any card to begin"),e.next=60;break;case 59:Q<1&&(d=Object(b.a)(te),(h=te[te.indexOf(P)]).visibility="hidden",te[te.indexOf(P)]=h,se(d));case 60:A(M+1);case 61:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){te.every((function(e){return"hidden"===e.visibility}))&&u>0&&de(!0)}),[u,te]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{style:{display:re?"block":"none"},children:"bravo, you did it!"}),le.length||re?Object(m.jsx)(m.Fragment,{}):Object(m.jsx)("div",{className:"cards",children:te.map((function(e,i){return Object(m.jsx)("div",{className:"card",onClick:function(){return function(e){if(!e.clicked&&!P){var i=te.indexOf(e);if(te[i+1]&&"hidden"===te[i+1].visibility||te[i-1]&&"hidden"===te[i-1].visibility||te[i+10]&&"hidden"===te[i+10].visibility||te[Math.abs(i-10)]&&"hidden"===te[Math.abs(i-10)].visibility||0===C){var t=Object(b.a)(te),s=te[te.indexOf(e)];s.clicked=!0,te[te.indexOf(e)]=s,se(t),T(e),"spades"!==e.suit&&"clubs"!==e.suit||R(e.pow);var c="hearts"===e.suit?"for health":"diamonds"===e.suit?"for gold":"to attack";H("the ".concat(e.value," of ").concat(e.suit,". roll ").concat(c,".")),C++}else console.log("can't pick that one")}}(e)},style:{visibility:e.visibility},children:e.clicked?"".concat("10"===e.value?e.value.substring(0,2):e.value[0]," ").concat(e.suit[0]):""},i)}))}),M>1?Object(m.jsx)("div",{className:"entrance-cards",children:le.map((function(e,i){return Object(m.jsx)("div",{className:"card",onClick:function(){return function(e){if(!e.selected){var i=Object(b.a)(le),t=le[le.indexOf(e)];t.selected=!0,le[le.indexOf(e)]=t,ne(i.filter((function(e){return e.selected}))),T(e),"spades"!==e.suit&&"clubs"!==e.suit||R(e.pow);var s="hearts"===e.suit?"for health":"diamonds"===e.suit?"for gold":"to attack";H("you selected the ".concat(e.value," of ").concat(e.suit,". roll ").concat(s,"."))}}(e)},style:{display:e.display},children:e.clicked?"".concat("10"===e.value?e.value.substring(0,2):e.value[0]," ").concat(e.suit[0]):""},i)}))}):Object(m.jsx)(m.Fragment,{}),Object(m.jsxs)("div",{className:"stats-container",children:[Object(m.jsxs)("small",{className:"stat",children:["health: ",u]}),Object(m.jsxs)("small",{className:"stat",children:["attack: ",f]}),Object(m.jsxs)("small",{className:"stat",children:["gold: ",N]}),Q?Object(m.jsxs)("small",{className:"stat",children:["enemy health: ",Q]}):Object(m.jsx)(m.Fragment,{})]}),Object(m.jsx)("div",{children:Object(m.jsx)("small",{children:re?"refresh to play again, or try a different difficulty. thanks for playing!":G})}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:he,style:{display:0===M||u>0&&!re?"block":"none"},children:"roll"})}),Object(m.jsx)("button",{onClick:function(){X(!0)},style:{position:"absolute",left:80,bottom:10,display:re?"none":"block "},children:"store"}),Object(m.jsx)("button",{onClick:function(){_(!0)},style:{position:"absolute",left:10,bottom:10},children:"help"}),Object(m.jsx)(g,{onOpen:W,onClose:function(){X(!1)},storeFunction:function(e,i,t){"attack"===e?k(f+i):"health"===e&&r(u+i),B(N-t)},gold:N,difficulty:i}),Object(m.jsx)(w,{onOpen:$,onClose:function(){_(!1)}})]})},B=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"welcome to dungeon solitaire (in beta)"}),Object(m.jsx)("h3",{children:"pick a difficulty:"}),Object(m.jsxs)("div",{children:[Object(m.jsx)(r.b,{to:"/easy",children:Object(m.jsx)("button",{children:"easy"})}),Object(m.jsx)(r.b,{to:"/hard",children:Object(m.jsx)("button",{children:"hard"})})]})]})},F=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)("header",{className:"App-header",children:Object(m.jsx)(r.a,{children:Object(m.jsxs)(d.c,{children:[Object(m.jsx)(d.a,{exact:!0,path:"/dungeon-solitaire",children:Object(m.jsx)(B,{})}),Object(m.jsx)(d.a,{path:"/easy",children:Object(m.jsx)(N,{difficulty:"easy"})}),Object(m.jsx)(d.a,{path:"/hard",children:Object(m.jsx)(N,{difficulty:"hard"})})]})})})})};u.a.render(Object(m.jsx)(r.a,{children:Object(m.jsx)(F,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.ac38ef17.chunk.js.map